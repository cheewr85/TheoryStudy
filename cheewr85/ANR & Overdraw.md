## ANR
- ANR은 Application Not Responding의 약자로 어플리케이션이 응답하지 않는 경우 안드로이드 시스템에서 발생하는 에러임

- 메인 Thread가 일정시간 동안 잡혀있으면 발생함

- 공식문서 상에서 터치를 통한 사용자 입력이 5초 내에 처리되지 않을 경우, 브로드캐스트가 10초 내에 처리되지 않을 때, 서비스가 20초 내로 처리되지 않을 때를 주로 다룸

- 이 ANR은 시간이 좀 걸리는 처리를 해도 바로 발생할 수가 있음

- 그래서 이 부분에 있어서 주로 시간이 오래 걸리는 작업을 Thread 처리를 하거나 사용자에게 진행과정을 보여주는 등 처리를 권장함

### ANR 디버깅
- ANR이 발생하는 경우 log file에서 ANR이라는 keyword를 통해서 그 원인을 일으키는 부분에 대해서 역추적을 할 수 있음 

- 좀 더 자세히 알아보기 위해서 Android Device Monitor에서 Trace 파일을 통해서 이 문제를 찾아볼 수 있음, Trace 파일에서 ANR에 대한 발생 정보를 저장하기 때문에 이를 디테일하게 확인할 수 있음

- 일단 ANR이 걸리는 원인은 Thread 작업 처리가 주를 이루기 때문에 만약 발생한다면 관련 부분을 찾아가서 코드를 손봐야함

## Overdraw
- 안드로이드 기기의 CPU는 그려야 할 것들을 GPU로 보내 GPU에게 그릴것들을 특정해서 그리라고 명령을 함

- 그럼 GPU는 drawable에 있는 파일들을 레지스터화 시켜 그림을 그림

- 여기서 Overdraw가 발생함 즉, UI 결과물로는 1차원적으로 보이지만 실제로 구성한 경우에 대해서 같은 프레임 내에서 두 번 이상 같은 픽셀을 그리게 되는 경우 Overdraw가 발생함

### GPU Overdraw 시각화
- 개발자 옵션에서 UI의 색을 지정해서 Overdraw를 식별을 할 수 있음, 이를 통해서 아래와 같이 파악가능함

![one](/cheewr85/img/eighteen.png)

- 색깔에 따라서 Overdraw 횟수를 파악할 수 있음, 이를 바탕으로 최적화 할 수 있음

- 먼저 xml에서 쓸데없는 background 값이 없는지 확인을 하고 최적화 시킬 수 있음, xml 계층이 중복되어서 background를 그리게 하면 이 역시 Overdraw를 발생시킴

- 혹은 이와 더불어서 이런 식의 계층 구조를 단순화하거나 평면화 즉 중첩된 구조를 줄일 수 있음

- 이 말은 처음에 xml 설계시 중첩 구조를 남발해서 View를 그리는 것은 좋지 않은 것임을 인지해야함

- 혹은 추가적으로 Layout Inspector를 활용해서 이 계층 구조를 직접 뜯어서 볼 수 있음