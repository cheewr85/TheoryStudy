# Race Condition
## 정의
경쟁상태
- 둘 이상의 동시 입력, 조작의 타이밍, 순서 등이 결과 값에 영향을 줄 수 있는 상태로 자료의 일관성을 해친다.

## 발생 조건
### 멀티프로세서/ 멀티스레드 환경
멀티 프로세서 환경에서 2개의 cpu가 동시에 커널 내부의 공유 데이터에 접근하여 조작하는 경우 또는 멀티 스레드 환경에서 공통 자원을 함께 사용할 때

- 해결 방법 : 커널 내부에 있는 각 공유 데이터에 접근할 때마다, 그 데이터에 대한 추가 접근을 막음 - [세마포어, 뮤텍스](https://github.com/cheewr85/TheoryStudy/blob/master/sejigner/OS/IPC.md#semaphore)

### 커널 작업
커널 모드에서 데이터를 로드하고 작업을 수행하고 있을 때 인터럽트가 발생하여 취급하고 있던 데이터에 접근할 경우

- 해결 방법 : 커널 모드에서 작업이 진행 중일 때, 인터럽트를 막는다.

### 프로세스의 System call
프로세스가 시스템 콜을 하여 커널 모드에서 작업하는 도중에 Context Switching 발생

프로세스 1이 커널 모드에서 데이터를 조작하고 있을 때, 시간이 초과되어 cpu 제어권이 프로세스 2로 넘어가 프로세스 1이 조작하던 데이터를 조작하는 경우에 문제가 됨

- 해결 방법 : 프로세스가 커널 모드에서 데이터를 조작하고 있을 때 시간이 초과되어도 cpu 제어권이 다른 프로세스에게 넘어가지 않도록 함

